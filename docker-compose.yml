version: "3.3"
services:
 app:
  image: punchbot_app:latest
  build:
    context: .
  depends_on:
   - redis
  environment:
   - DISCORD_TOKEN=${DISCORD_TOKEN}
   - DISCORD_CHANNEL=${DISCORD_CHANNEL}
   - TIMER=${TIMER}
   - PUNCHSITE=${PUNCHSITE}
   - REDIS_HOST=${REDIS_HOST}
   - REDIS_PORT=${REDIS_PORT}
   - REDIS_PASSWORD=${REDIS_PASSWORD}

 redis:
  image: redis:latest
  ports:
    - '6379:6379'
  volumes:
    - redis:/data

volumes:
  redis:
